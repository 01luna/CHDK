/*
 * capt_seq.c - auto-generated by CHDK code_gen.
 */
#include "lolevel.h"
#include "platform.h"
#include "core.h"

#define USE_STUBS_NRFLAG 1 // see stubs_min.S
#define NR_AUTO (0)        // have to explictly reset value back to 0 to enable auto
#define PAUSE_FOR_FILE_COUNTER 350  // Enable delay in capt_seq_hook_raw_here to ensure file counter is updated

#include "../../../generic/capt_seq.c"


/*************************************************************/
//** capt_seq_task @ 0xFF096768 - 0xFF096A58, length=189
void __attribute__((naked,noinline)) capt_seq_task() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    LDR     R5, =0x205D4 \n"
"    LDR     R7, =0x3950 \n"
"    MOV     R6, #0 \n"

"loc_FF096778:\n"
"    LDR     R0, [R7, #8] \n"
"    MOV     R2, #0 \n"
"    MOV     R1, SP \n"
"    BL      sub_006B8568 /*_ReceiveMessageQueue*/ \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF0967A8 \n"
"    LDR     R2, =0x428 \n"
"    LDR     R1, =0xFF096108 /*'SsShootTask.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"
"    BL      _ExitTask \n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF0967A8:\n"
"    LDR     R0, [SP] \n"
"    LDR     R0, [R0] \n"
"    CMP     R0, #1 \n"
"    CMPNE   R0, #0x2B \n"
"    CMPNE   R0, #0x1F \n"
"    BLNE    sub_FF1E71C0 \n"
"    LDR     R0, [SP] \n"
"    LDR     R1, [R0] \n"
"    CMP     R1, #0x2E \n"
"    ADDCC   PC, PC, R1, LSL#2 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF09688C \n"
"    B       loc_FF0968A8 \n"
"    B       loc_FF0968B4 \n"
"    B       loc_FF0968C8 \n"
"    B       loc_FF0968C0 \n"
"    B       loc_FF0968D8 \n"
"    B       loc_FF0968E0 \n"
"    B       loc_FF0968EC \n"
"    B       loc_FF0968F8 \n"
"    B       loc_FF09690C \n"
"    B       loc_FF096918 \n"
"    B       loc_FF096920 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF09692C \n"
"    B       loc_FF096934 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF09693C \n"
"    B       loc_FF096944 \n"
"    B       loc_FF09694C \n"
"    B       loc_FF096958 \n"
"    B       loc_FF096960 \n"
"    B       loc_FF096968 \n"
"    B       loc_FF096970 \n"
"    B       loc_FF096978 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF096980 \n"
"    B       loc_FF096988 \n"
"    B       loc_FF096990 \n"
"    B       loc_FF09699C \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF0969A4 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF0969AC \n"
"    B       loc_FF0969B4 \n"
"    B       loc_FF0969BC \n"
"    B       loc_FF0969C8 \n"
"    B       loc_FF0969D0 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF0969FC \n"
"    B       loc_FF096A08 \n"
"    B       loc_FF096A1C \n"
"    B       loc_FF096A2C \n"

"loc_FF09688C:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF097094 \n"
"    BL      shooting_expo_param_override\n"    // added
"    BL      sub_FF093D80 \n"
//To do: Check if this is needed.
//"    MOV     R0, #0\n"                          // added
//"    STR     R0, [R5,#0x28]\n"                  // added, fixes overrides behavior at short shutter press (from S95)
"    LDR     R0, [R5, #0x28] \n"
"    CMP     R0, #0 \n"
"    BLNE    sub_FF1E60E8_my \n"  // --> Patched. Old value = 0xFF1E60E8.
"    B       loc_FF096A2C \n"

"loc_FF0968A8:\n"
"    LDR     R0, [R0, #0x10] \n"
"    BL      sub_FF1E6060_my \n"  // --> Patched. Old value = 0xFF1E6060.
"    B       loc_FF096A2C \n"

"loc_FF0968B4:\n"
"    MOV     R0, #1 \n"
"    BL      sub_FF097438 \n"
"    B       loc_FF096A2C \n"

"loc_FF0968C0:\n"
"    BL      sub_FF096C14 \n"
"    B       loc_FF0968D0 \n"

"loc_FF0968C8:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF097068 \n"

"loc_FF0968D0:\n"
"    STR     R6, [R5, #0x28] \n"
"    B       loc_FF096A2C \n"

"loc_FF0968D8:\n"
"    BL      sub_FF097074 \n"
"    B       loc_FF096A2C \n"

"loc_FF0968E0:\n"
"    BL      sub_FF097300 \n"
"    BL      sub_FF093D80 \n"
"    B       loc_FF096A2C \n"

"loc_FF0968EC:\n"
"    LDR     R0, [R0, #0x10] \n"
"    BL      sub_FF1E61E0 \n"
"    B       loc_FF096A2C \n"

"loc_FF0968F8:\n"
"    BL      sub_FF097388 \n"
"    BL      sub_FF093D80 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF0315E8 \n"
"    B       loc_FF096A2C \n"

"loc_FF09690C:\n"
"    LDR     R0, [R5, #0x54] \n"
"    BL      sub_FF097A34 \n"
"    B       loc_FF096A2C \n"

"loc_FF096918:\n"
"    BL      sub_FF097E94 \n"
"    B       loc_FF096A2C \n"

"loc_FF096920:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF097EFC \n"
"    B       loc_FF096A2C \n"

"loc_FF09692C:\n"
"    BL      sub_FF1E48C0 \n"
"    B       loc_FF096A2C \n"

"loc_FF096934:\n"
"    BL      sub_FF1E4B0C \n"
"    B       loc_FF096A2C \n"

"loc_FF09693C:\n"
"    BL      sub_FF1E4BD8 \n"
"    B       loc_FF096A2C \n"

"loc_FF096944:\n"
"    BL      sub_FF1E4CD8 \n"
"    B       loc_FF096A2C \n"

"loc_FF09694C:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF1E4F78 \n"
"    B       loc_FF096A2C \n"

"loc_FF096958:\n"
"    BL      sub_FF1E50F4 \n"
"    B       loc_FF096A2C \n"

"loc_FF096960:\n"
"    BL      sub_FF09E854 \n"
"    B       loc_FF096A2C \n"

"loc_FF096968:\n"
"    BL      sub_FF09E860 \n"
"    B       loc_FF096A2C \n"

"loc_FF096970:\n"
"    BL      sub_FF1E5198 \n"
"    B       loc_FF096A2C \n"

"loc_FF096978:\n"
"    BL      sub_FF1E524C \n"
"    B       loc_FF096A2C \n"

"loc_FF096980:\n"
"    BL      sub_FF09755C \n"
"    B       loc_FF096A2C \n"

"loc_FF096988:\n"
"    MOV     R0, #0 \n"
"    B       loc_FF096994 \n"

"loc_FF096990:\n"
"    LDR     R0, [R0, #0xC] \n"

"loc_FF096994:\n"
"    BL      sub_FF0975F4 \n"
"    B       loc_FF096A2C \n"

"loc_FF09699C:\n"
"    BL      sub_FF1E4DB8 \n"
"    B       loc_FF096A2C \n"

"loc_FF0969A4:\n"
"    BL      sub_FF1E4E08 \n"
"    B       loc_FF096A2C \n"

"loc_FF0969AC:\n"
"    BL      sub_FF09A6E4 \n"
"    B       loc_FF096A2C \n"

"loc_FF0969B4:\n"
"    BL      sub_FF09A818 \n"
"    B       loc_FF096A2C \n"

"loc_FF0969BC:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF1E536C \n"
"    B       loc_FF096A2C \n"

"loc_FF0969C8:\n"
"    BL      sub_FF1E53FC \n"
"    B       loc_FF096A2C \n"

"loc_FF0969D0:\n"
"    BL      sub_FF09CF90 \n"
"    LDR     R0, =0x206D4 \n"
"    LDRH    R0, [R0, #0x9C] \n"
"    CMP     R0, #4 \n"
"    LDRNEH  R0, [R5] \n"
"    SUBNE   R1, R0, #0x8200 \n"
"    SUBNES  R1, R1, #0x36 \n"
"    BNE     loc_FF096A2C \n"
"    BL      sub_FF09A818 \n"
"    BL      sub_FF09ADD4 \n"
"    B       loc_FF096A2C \n"

"loc_FF0969FC:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x11 \n"
"    B       loc_FF096A10 \n"

"loc_FF096A08:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x10 \n"

"loc_FF096A10:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF094870 \n"
"    B       loc_FF096A2C \n"

"loc_FF096A1C:\n"
"    LDR     R2, =0x557 \n"
"    LDR     R1, =0xFF096108 /*'SsShootTask.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"

"loc_FF096A2C:\n"
"    LDR     R0, [SP] \n"
"    LDR     R1, [R0, #4] \n"
"    LDR     R0, [R7, #4] \n"
"    BL      sub_006B82FC /*_SetEventFlag*/ \n"
"    LDR     R4, [SP] \n"
"    LDR     R0, [R4, #8] \n"
"    CMP     R0, #0 \n"
"    LDREQ   R1, =0xFF096108 /*'SsShootTask.c'*/ \n"
"    MOVEQ   R2, #0xFF \n"
"    BLEQ    _DebugAssert \n"
"    STR     R6, [R4, #8] \n"
"    B       loc_FF096778 \n"
);
}

/*************************************************************/
//** sub_FF1E60E8_my @ 0xFF1E60E8 - 0xFF1E61C4, length=56
void __attribute__((naked,noinline)) sub_FF1E60E8_my() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    BL      sub_FF095D18 \n"
"    MOV     R4, R0 \n"
"    MOV     R0, #0xC \n"
"    BL      sub_FF09C8B8 \n"
"    LDR     R6, =0x822C \n"
"    TST     R0, #1 \n"
"    MOV     R5, #1 \n"
"    BNE     loc_FF1E61B0 \n"
"    MOV     R2, #2 \n"
"    MOV     R1, SP \n"
"    ADD     R0, R2, #0x110 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    ADDNE   R2, R5, #0x188 \n"
"    LDRNE   R1, =0xFF1E61CC /*'SsCaptureCtrl.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRSH   R0, [SP] \n"
"    BL      sub_FF02B174 \n"
"    BL      sub_FF02AF84 \n"
"    CMP     R0, #1 \n"
"    BLS     loc_FF1E61B8 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF02B0DC \n"
"    BL      sub_FF097080 \n"
"    BL      sub_FF098248 \n"
"    MOV     R1, R4 \n"
"    BL      sub_FF0982A4 \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x30 \n"
"    MOV     R0, #0x118 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x34 \n"
"    MOV     R0, #0x32 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #8 \n"
"    MOV     R0, #0x46 \n"
"    BL      _SetPropertyCase \n"
"    BL      sub_FF1E69DC \n"
"    MVN     R1, #0x1000 \n"
"    BL      sub_006B8344 /*_ClearEventFlag*/ \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5BE4 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF351488_my \n"  // --> Patched. Old value = 0xFF351488.
"    TST     R0, #1 \n"
"    BEQ     loc_FF1E61B4 \n"

"loc_FF1E61B0:\n"
"    STR     R5, [R6] \n"

"loc_FF1E61B4:\n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF1E61B8:\n"
"    STR     R5, [R6] \n"
"    BL      sub_FF094614 \n"
"    BL      sub_FF09C920 \n"
"    LDMFD   SP!, {R3-R7,PC} \n"
);
}

/*************************************************************/
//** sub_FF1E6060_my @ 0xFF1E6060 - 0xFF1E60E4, length=34
void __attribute__((naked,noinline)) sub_FF1E6060_my() {
asm volatile (
"    STMFD   SP!, {R4-R6,LR} \n"
"    LDR     R5, =0x205D4 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [R5, #0x28] \n"
"    MOV     R4, #0 \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF1E60AC \n"
"    LDR     R0, =0x822C \n"
"    MOV     R2, R6 \n"
"    LDR     R0, [R0] \n"
"    MOV     R1, #2 \n"
"    CMP     R0, #0 \n"
"    MOVNE   R4, #0x1D \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF094870 \n"
"    MOV     R1, R4 \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF1E6F48 \n"
"    B       loc_FF1E60DC \n"

"loc_FF1E60AC:\n"
"    MOV     R0, R6 \n"
"    BL      sub_FF1E5F14_my \n"  // --> Patched. Old value = 0xFF1E5F14.
"    TST     R0, #1 \n"
"    MOV     R4, R0 \n"
"    BEQ     loc_FF1E60DC \n"
"    MOV     R2, R6 \n"
"    MOV     R1, #2 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF094870 \n"
"    MOV     R1, R4 \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF1E715C \n"

"loc_FF1E60DC:\n"
"    MOV     R0, #0 \n"
"    STR     R0, [R5, #0x28] \n"
"    LDMFD   SP!, {R4-R6,PC} \n"
);
}

/*************************************************************/
//** sub_FF1E5F14_my @ 0xFF1E5F14 - 0xFF1E605C, length=83
void __attribute__((naked,noinline)) sub_FF1E5F14_my() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF098248 \n"
"    MOV     R1, R4 \n"
"    BL      sub_FF0982A4 \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x30 \n"
"    MOV     R0, #0x118 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x34 \n"
"    MOV     R0, #0x32 \n"
"    BL      _SetPropertyCase \n"
"    LDR     R6, =0x205D4 \n"
"    LDR     R0, [R6, #0x104] \n"
"    ADD     R5, R6, #0x100 \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF1E5F74 \n"
"    LDRH    R0, [R5, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF1E5F98 \n"
"    B       loc_FF1E5F80 \n"

"loc_FF1E5F74:\n"
"    LDR     R0, [R4, #0xC] \n"
"    CMP     R0, #1 \n"
"    BNE     loc_FF1E5F98 \n"

"loc_FF1E5F80:\n"
"    MOV     R0, #0xC \n"
"    BL      sub_FF09C8B8 \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF1E5F98 \n"
"    BL      sub_FF094614 \n"
"    B       loc_FF1E6058 \n"

"loc_FF1E5F98:\n"
"    LDR     R0, [R6, #0xE4] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF1E5FCC \n"
"    LDRH    R0, [R5, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF1E600C \n"
"    LDR     R0, [R6, #0x104] \n"
"    CMP     R0, #0 \n"
"    LDRNE   R0, [R4, #0xC] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF1E600C \n"

"loc_FF1E5FCC:\n"
"    MOV     R2, #2 \n"
"    MOV     R1, SP \n"
"    ADD     R0, R2, #0x110 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    MOVNE   R2, #0xC1 \n"
"    LDRNE   R1, =0xFF1E61CC /*'SsCaptureCtrl.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRSH   R0, [SP] \n"
"    BL      sub_FF02B174 \n"
"    BL      sub_FF02AF84 \n"
"    CMP     R0, #1 \n"
"    BLS     loc_FF1E6050 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF02B0DC \n"

"loc_FF1E600C:\n"
"    BL      sub_FF1E69DC \n"
"    MVN     R1, #0x1000 \n"
"    BL      sub_006B8344 /*_ClearEventFlag*/ \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF351138 \n"
"    TST     R0, #1 \n"
"    MOV     R5, R0 \n"
"    BNE     loc_FF1E6048 \n"
"    BL      sub_FF097080 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5BE4 \n"
"    MOV     R0, #2 \n"
"    BL      sub_FF09EA40 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF351488_my \n"  // --> Patched. Old value = 0xFF351488.

"loc_FF1E6048:\n"
"    MOV     R0, R5 \n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF1E6050:\n"
"    BL      sub_FF094614 \n"
"    BL      sub_FF09C920 \n"

"loc_FF1E6058:\n"
"    MOV     R0, #1 \n"
"    LDMFD   SP!, {R3-R7,PC} \n"
);
}

/*************************************************************/
//** sub_FF351488_my @ 0xFF351488 - 0xFF351798, length=197
void __attribute__((naked,noinline)) sub_FF351488_my() {
asm volatile (
"    STMFD   SP!, {R1-R9,LR} \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF1E5B4C \n"
"    BL      sub_FF1E6838 \n"
"    LDR     R7, =0x205D4 \n"
"    LDR     R0, [R7, #0x190] \n"
"    CMP     R0, #2 \n"
"    BNE     loc_FF3514C4 \n"
"    ADD     R0, R7, #0x100 \n"
"    LDRH    R0, [R0, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    MOVLS   R0, #5 \n"
"    BLLS    sub_FF11FB5C \n"

"loc_FF3514C4:\n"
"    LDR     R0, =0x139 \n"
"    MOV     R2, #4 \n"
"    ADD     R1, SP, #8 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    MOVNE   R2, #0x150 \n"
"    LDRNE   R1, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDR     R0, [SP, #8] \n"
"    AND     R0, R0, #0xFF00 \n"
"    CMP     R0, #0x600 \n"
"    LDRNE   R0, =0xFF1E5774 \n"
"    LDREQ   R0, =0xFF351438 \n"
"    MOVNE   R1, R4 \n"
"    MOVEQ   R1, #0 \n"
"    BL      sub_FF29282C \n"
"    MOV     R2, #2 \n"
"    ADD     R1, SP, #4 \n"
"    MOV     R0, #0x114 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x159 \n"
"    LDRNE   R1, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDR     R0, [R7, #0x184] \n"
"    CMP     R0, #0 \n"
"    BLNE    sub_FF1E5A38 \n"
"    MOV     R0, #0 \n"
//"  BL      _sub_FF0995F8 \n"  // --> Nullsub call removed.
"    BL      wait_until_remote_button_is_released\n" // added
"    BL      capt_seq_hook_set_nr\n"                 // added
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5C78 \n"
"    LDR     R1, =0xDD38 \n"
"    MOV     R2, #4 \n"
"    MOV     R0, #0x92 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x16E \n"
"    LDRNE   R1, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    BL      sub_FF0997BC \n"
"    BL      sub_FF087B64 \n"
"    MOV     R1, #0 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF35143C \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [SP, #8] \n"
"    LDR     R8, =0xDD38 \n"
"    AND     R0, R0, #0xFF00 \n"
"    CMP     R0, #0x600 \n"
"    LDRH    R0, [R4, #0x18] \n"
"    LDRNE   R2, =0xFF1E5A0C \n"
"    LDREQ   R2, =0xFF1E59EC \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF3515B8 \n"
"    CMP     R0, #1 \n"
"    BEQ     loc_FF3515DC \n"
"    CMP     R0, #4 \n"
"    BNE     loc_FF351650 \n"

"loc_FF3515B8:\n"
"    STR     R6, [SP] \n"
"    MOV     R3, R2 \n"
"    LDR     R1, [R4, #0x34] \n"
"    LDR     R2, [R8] \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5508 \n"
"    MOV     R5, R0 \n"
"    BL      sub_FF127B28 \n"
"    B       loc_FF351664 \n"

"loc_FF3515DC:\n"
"    STR     R6, [SP] \n"
"    MOV     R3, R2 \n"
"    LDR     R1, [R4, #0x34] \n"
"    LDR     R2, [R8] \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E55B4 \n"
"    MOV     R5, R0 \n"
"    MOV     R1, #0 \n"
"    MOV     R0, #0x45 \n"
"    BL      sub_FF03320C \n"
"    TST     R5, #1 \n"
"    BNE     loc_FF351664 \n"
"    LDR     R0, =0xFF351438 \n"
"    MOV     R1, #0 \n"
"    BL      sub_FF29282C \n"
"    MOV     R1, #1 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF35143C \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [R8] \n"
"    BL      sub_FF1E5AD0 \n"
"    LDR     R1, [R4, #0x34] \n"
"    LDR     R2, [R8] \n"
"    MOV     R3, R6 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5668 \n"
"    MOV     R5, R0 \n"
"    BL      sub_FF1E5490 \n"
"    B       loc_FF351664 \n"

"loc_FF351650:\n"
"    LDR     R2, =0x1A7 \n"
"    LDR     R1, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"
"    MOV     R5, #0x1D \n"

"loc_FF351664:\n"
"    BL      sub_FF087B7C \n"
"    LDR     R8, =0xFF351438 \n"
"    TST     R5, #1 \n"
"    BNE     loc_FF3516E4 \n"
"    LDR     R0, [R7, #0x100] \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF35169C \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E77BC \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x1C9 \n"
"    LDRNE   R1, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    BL      capt_seq_hook_raw_here \n"         // added

"loc_FF35169C:\n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5D48 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5D00 \n"
"    CMP     R6, R8 \n"
"    BEQ     loc_FF3516E4 \n"
"    BL      sub_FF1E69DC \n"
"    LDR     R9, =0x1D6 \n"
"    LDR     R2, =0x3A98 \n"
"    LDR     R3, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOV     R1, #4 \n"
"    STR     R9, [SP] \n"
"    BL      sub_FF09CB4C \n"
"    CMP     R0, #0 \n"
"    MOVNE   R2, R9 \n"
"    LDRNE   R1, =0xFF35174C /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"

"loc_FF3516E4:\n"
"    MOV     R2, R4 \n"
"    MOV     R1, #2 \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF094870 \n"
"    LDR     R0, [R7, #0x28] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF351718 \n"
"    SUBS    R1, R6, R8 \n"
"    MOVNE   R1, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E6EE0 \n"
"    B       loc_FF35172C \n"

"loc_FF351718:\n"
"    SUBS    R1, R6, R8 \n"
"    MOVNE   R1, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E6E74 \n"

"loc_FF35172C:\n"
"    MOV     R0, R5 \n"
"    LDMFD   SP!, {R1-R9,PC} \n"
"    .ltorg\n"         // added
);
}
