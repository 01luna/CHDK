/*
 * capt_seq.c - auto-generated by CHDK code_gen.
 */
#include "lolevel.h"
#include "platform.h"
#include "core.h"

#define NR_ON (1)
#define NR_OFF (0)

static long *nrflag = (long*)0x5724;

#include "../../../generic/capt_seq.c"


/*************************************************************/
//** capt_seq_task @ 0xFF96CA18 - 0xFF96CC08, length=125
void __attribute__((naked,noinline)) capt_seq_task() {
asm volatile (
"    STMFD   SP!, {R4,LR} \n"
"    SUB     SP, SP, #4 \n"
"    MOV     R4, SP \n"
"    B       loc_FF96CBD8 \n"

"loc_FF96CA28:\n"
"    LDR     R0, [SP] \n"
"    LDR     R3, [R0] \n"
"    CMP     R3, #0x11 \n"
"    LDRLS   PC, [PC, R3, LSL#2] \n"
"    B       loc_FF96CBC0 \n"
"    .long   loc_FF96CA84 \n"
"    .long   loc_FF96CA94 \n"
"    .long   loc_FF96CAA8 \n"
"    .long   loc_FF96CAB8 \n"
"    .long   loc_FF96CAC8 \n"
"    .long   loc_FF96CAD8 \n"
"    .long   loc_FF96CAEC \n"
"    .long   loc_FF96CAFC \n"
"    .long   loc_FF96CB10 \n"
"    .long   loc_FF96CB20 \n"
"    .long   loc_FF96CB30 \n"
"    .long   loc_FF96CB40 \n"
"    .long   loc_FF96CB50 \n"
"    .long   loc_FF96CB64 \n"
"    .long   loc_FF96CB74 \n"
"    .long   loc_FF96CB84 \n"
"    .long   loc_FF96CB94 \n"
"    .long   loc_FF96CBA8 \n"

"loc_FF96CA84:\n"
"    BL      sub_FF96D24C \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #8 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CA94:\n"
"    BL      sub_FF96D9D0 \n"
"    BL      shooting_expo_param_override\n"   // +
"    BL      sub_FF96A98C \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x10 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CAA8:\n"
"    BL      sub_FF96C05C_my \n"  // --> Patched. Old value = 0xFF96C05C.
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #2 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CAB8:\n"
"    BL      sub_FF96DFE0 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #1 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CAC8:\n"
"    BL      sub_FF96DA80 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x20 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CAD8:\n"
"    BL      sub_FF96DB78 \n"
"    BL      sub_FF96A98C \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x40 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CAEC:\n"
"    BL      sub_FF96C240 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x80 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CAFC:\n"
"    BL      sub_FF96DCF0 \n"
"    BL      sub_FF96A98C \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x400 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB10:\n"
"    BL      sub_FF96DA80 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x800 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB20:\n"
"    BL      sub_FF96E81C \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x8000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB30:\n"
"    BL      sub_FF96EBF8 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x10000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB40:\n"
"    BL      sub_FF96EB14 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x20000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB50:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF96ECB0 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x40000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB64:\n"
"    BL      sub_FF96EFBC \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x80000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB74:\n"
"    BL      sub_FF96F034 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x100000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB84:\n"
"    BL      sub_FF96F080 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x200000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CB94:\n"
"    MOV     R0, #1 \n"
"    BL      sub_FF96ECB0 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x400000 \n"
"    B       loc_FF96CBB4 \n"

"loc_FF96CBA8:\n"
"    BL      sub_FF96F0E8 \n"
"    LDR     R3, =0x5D0FC \n"
"    MOV     R1, #0x800000 \n"

"loc_FF96CBB4:\n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF82072C /*_SetEventFlag*/ \n"
"    B       loc_FF96CBD0 \n"

"loc_FF96CBC0:\n"
"    MOV     R1, #0x374 \n"
"    LDR     R0, =0xFF96BD0C \n"
"    ADD     R1, R1, #2 \n"
"    BL      _DebugAssert \n"

"loc_FF96CBD0:\n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF96BD8C \n"

"loc_FF96CBD8:\n"
"    LDR     R3, =0x5D100 \n"
"    MOV     R1, R4 \n"
"    LDR     R0, [R3] \n"
"    MOV     R2, #0 \n"
"    BL      sub_FF820F34 /*_ReceiveMessageQueue*/ \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF96CA28 \n"
"    LDR     R0, =0xFF96BD0C \n"
"    MOV     R1, #0x2EC \n"
"    BL      _DebugAssert \n"
"    BL      _ExitTask \n"
"    ADD     SP, SP, #4 \n"
"    LDMFD   SP!, {R4,PC} \n"
);
}

/*************************************************************/
//** sub_FF96C05C_my @ 0xFF96C05C - 0xFF96C114, length=47
void __attribute__((naked,noinline)) sub_FF96C05C_my() {
asm volatile (
"    STMFD   SP!, {R4-R6,LR} \n"
"    LDR     R5, [R0, #8] \n"
"    BL      sub_FF97AE48 \n"
"    CMP     R0, #0 \n"
"    LDR     R0, =0xFF96C038 \n"
"    BNE     loc_FF96C07C \n"
"    BL      sub_FFAF213C \n"
"    BL      sub_FF97AE54 \n"

"loc_FF96C07C:\n"
"    BL      sub_FF96A0BC \n"
"    ADD     R3, R5, R5, LSL#1 \n"
"    RSB     R3, R5, R3, LSL#3 \n"
"    MOV     R6, R3, LSL#2 \n"
"    ADD     R0, R6, R0 \n"
"    LDR     R3, [R0, #8] \n"
"    CMP     R3, #0 \n"
"    BEQ     loc_FF96C0A0 \n"
"    BL      sub_FF953B98 \n"

"loc_FF96C0A0:\n"
"    MOV     R0, R5 \n"
"    BL      sub_FF96E07C \n"
"    TST     R0, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R1, #1 \n"
"    BEQ     loc_FF96C0C0 \n"
"    LDMFD   SP!, {R4-R6,LR} \n"
"    B       sub_FF96AE1C \n"

"loc_FF96C0C0:\n"
"    BL      sub_FF96A0BC \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF825F00 \n"
"    ADD     R4, R6, R4 \n"
"    STR     R0, [R4, #4] \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF96FF14 \n"
"    BL      sub_FF96E6D8 \n"
"    BL      sub_FF96E644 \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF96F5D0_my \n"  // --> Patched. Old value = 0xFF96F5D0.
"    BL      capt_seq_hook_raw_here\n"   // +
"    MOV     R2, R5 \n"
"    MOV     R1, #1 \n"
"    BL      sub_FF96AE1C \n"
"    BL      sub_FF96F894 \n"
"    BL      sub_FF96A0BC \n"
"    ADD     R0, R6, R0 \n"
"    LDR     R3, [R0, #8] \n"
"    CMP     R3, #0 \n"
"    LDMEQFD SP!, {R4-R6,PC} \n"
"    LDMFD   SP!, {R4-R6,LR} \n"
"    B       sub_FF953BD4 \n"
);
}

/*************************************************************/
//** sub_FF96F5D0_my @ 0xFF96F5D0 - 0xFF96F614, length=18
void __attribute__((naked,noinline)) sub_FF96F5D0_my() {
asm volatile (
"    STMFD   SP!, {R4-R8,LR} \n"
"    LDR     R3, =0x571C \n"
"    SUB     SP, SP, #4 \n"
"    LDR     R2, [R3] \n"
"    LDR     R4, =0x5720 \n"
"    CMP     R2, #0 \n"
"    STR     R0, [R4] \n"
"    MOV     R8, #0 \n"
"    LDR     R6, =0xFF96F508 \n"
"    BNE     loc_FF96F604 \n"
"    LDR     R0, =0xFF96F5C4 \n"
"    MOV     R1, #0xDB \n"
"    BL      _DebugAssert \n"

"loc_FF96F604:\n"
"    LDR     R3, =0x5D164 \n"
"    MVN     R1, #0 \n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF8208C8 /*_ClearEventFlag*/ \n"
"    BL      sub_FF96F540 \n"
"    BL      wait_until_remote_button_is_released\n"
"    BL      capt_seq_hook_set_nr\n"
"    LDR     PC, =0xFF96F618 \n"  // Continue in firmware
);
}

/*************************************************************/
//** exp_drv_task @ 0xFF90B2D8 - 0xFF90B608, length=205
void __attribute__((naked,noinline)) exp_drv_task() {
asm volatile (
"    STMFD   SP!, {R4-R8,LR} \n"
"    SUB     SP, SP, #0x14 \n"
"    MOV     R7, SP \n"
"    B       loc_FF90B5C4 \n"

"loc_FF90B2E8:\n"
"    CMP     R2, #0x18 \n"
"    BNE     loc_FF90B300 \n"
"    LDR     R0, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"
"    B       loc_FF90B330 \n"

"loc_FF90B300:\n"
"    CMP     R2, #0x16 \n"
"    BNE     loc_FF90B310 \n"
"    BL      sub_FFA95684 \n"
"    B       loc_FF90B320 \n"

"loc_FF90B310:\n"
"    CMP     R2, #0x17 \n"
"    BNE     loc_FF90B33C \n"
"    BL      sub_FF8BB070 \n"
"    BL      sub_FF8BCF10 \n"

"loc_FF90B320:\n"
"    LDR     R3, [SP] \n"
"    LDR     R0, [R3, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x30] \n"

"loc_FF90B330:\n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90968C \n"
"    B       loc_FF90B5C4 \n"

"loc_FF90B33C:\n"
"    CMP     R2, #0xC \n"
"    MOV     R8, #1 \n"
"    BNE     loc_FF90B3AC \n"
"    LDR     R1, [R12, #0x24] \n"
"    ADD     R1, R1, R1, LSL#1 \n"
"    ADD     R1, R12, R1, LSL#1 \n"
"    ADD     R6, SP, #0xC \n"
"    SUB     R1, R1, #2 \n"
"    MOV     R2, #6 \n"
"    MOV     R0, R6 \n"
"    BL      _memcpy \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A900 \n"
"    LDR     R3, [SP] \n"
"    LDR     R1, [R3, #0x24] \n"
"    LDR     R2, [R3, #0x34] \n"
"    ADD     R0, R3, #4 \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x30] \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90AA84 \n"
"    LDR     R3, [SP] \n"
"    ADD     R0, R3, #4 \n"
"    LDR     R1, [R3, #0x24] \n"
"    LDR     R2, [R3, #0x3C] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x38] \n"
"    B       loc_FF90B574 \n"

"loc_FF90B3AC:\n"
"    SUB     R3, R2, #0xD \n"
"    CMP     R3, #1 \n"
"    BHI     loc_FF90B42C \n"
"    ADD     R6, SP, #0xC \n"
"    ADD     R5, SP, #4 \n"
"    MOV     R0, R12 \n"
"    MOV     R1, R6 \n"
"    MOV     R2, R5 \n"
"    BL      sub_FF90AB00 \n"
"    MOV     R4, R0 \n"
"    CMP     R4, #3 \n"
"    CMPNE   R4, #1 \n"
"    BNE     loc_FF90B40C \n"
"    LDR     R12, [SP] \n"
"    MOV     R0, R5 \n"
"    LDR     R1, [R12, #0x24] \n"
"    MOV     R2, R4 \n"
"    LDR     R3, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"
"    MOV     R1, R4 \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90B2B8 \n"
"    B       loc_FF90B574 \n"

"loc_FF90B40C:\n"
"    LDR     R12, [SP] \n"
"    MOV     R2, R4 \n"
"    ADD     R0, R12, #4 \n"
"    LDR     R1, [R12, #0x24] \n"
"    LDR     R3, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"
"    B       loc_FF90B574 \n"

"loc_FF90B42C:\n"
"    CMP     R2, #0x14 \n"
"    BNE     loc_FF90B480 \n"
"    LDR     R1, [R12, #0x24] \n"
"    ADD     R1, R1, R1, LSL#1 \n"
"    ADD     R1, R12, R1, LSL#1 \n"
"    ADD     R6, SP, #0xC \n"
"    SUB     R1, R1, #2 \n"
"    MOV     R2, #6 \n"
"    MOV     R0, R6 \n"
"    BL      _memcpy \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A3D8 \n"
"    LDR     R3, [SP] \n"
"    ADD     R0, R3, #4 \n"
"    LDR     R1, [R3, #0x24] \n"
"    LDR     R2, [R3, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x30] \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A630 \n"
"    B       loc_FF90B574 \n"

"loc_FF90B480:\n"
"    ADD     R6, SP, #0xC \n"
"    ADD     R1, R12, #4 \n"
"    MOV     R0, R6 \n"
"    MOV     R2, #6 \n"
"    BL      _memcpy \n"
"    LDR     R12, [SP] \n"
"    LDR     R3, [R12] \n"
"    MOV     R0, R12 \n"
"    CMP     R3, #0x15 \n"
"    LDRLS   PC, [PC, R3, LSL#2] \n"
"    B       loc_FF90B560 \n"
"    .long   loc_FF90B504 \n"
"    .long   loc_FF90B50C \n"
"    .long   loc_FF90B514 \n"
"    .long   loc_FF90B514 \n"
"    .long   loc_FF90B504 \n"
"    .long   loc_FF90B50C \n"
"    .long   loc_FF90B514 \n"
"    .long   loc_FF90B514 \n"
"    .long   loc_FF90B52C \n"
"    .long   loc_FF90B52C \n"
"    .long   loc_FF90B550 \n"
"    .long   loc_FF90B558 \n"
"    .long   loc_FF90B560 \n"
"    .long   loc_FF90B560 \n"
"    .long   loc_FF90B560 \n"
"    .long   loc_FF90B51C \n"
"    .long   loc_FF90B524 \n"
"    .long   loc_FF90B538 \n"
"    .long   loc_FF90B540 \n"
"    .long   loc_FF90B540 \n"
"    .long   loc_FF90B560 \n"
"    .long   loc_FF90B548 \n"

"loc_FF90B504:\n"
"    BL      sub_FF909B48 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B50C:\n"
"    BL      sub_FF909C84 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B514:\n"
"    BL      sub_FF909DB4 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B51C:\n"
"    BL      sub_FF909F88 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B524:\n"
"    BL      sub_FF90A04C \n"
"    B       loc_FF90B55C \n"

"loc_FF90B52C:\n"
"    BL      sub_FF90A110_my \n"  // --> Patched. Old value = 0xFF90A110.
"    MOV     R8, #0 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B538:\n"
"    BL      sub_FF90A1D4 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B540:\n"
"    BL      sub_FF90A2BC \n"
"    B       loc_FF90B55C \n"

"loc_FF90B548:\n"
"    BL      sub_FF90A6C0 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B550:\n"
"    BL      sub_FF90A794 \n"
"    B       loc_FF90B55C \n"

"loc_FF90B558:\n"
"    BL      sub_FF90A880 \n"

"loc_FF90B55C:\n"
"    LDR     R12, [SP] \n"

"loc_FF90B560:\n"
"    ADD     R0, R12, #4 \n"
"    LDR     R1, [R12, #0x24] \n"
"    LDR     R2, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"

"loc_FF90B574:\n"
"    CMP     R8, #1 \n"
"    BNE     loc_FF90B59C \n"
"    LDR     R1, [SP] \n"
"    LDR     R3, [R1, #0x24] \n"
"    ADD     R3, R3, R3, LSL#1 \n"
"    ADD     R1, R1, R3, LSL#1 \n"
"    MOV     R0, R6 \n"
"    SUB     R1, R1, #2 \n"
"    BL      sub_FF909A04 \n"
"    B       loc_FF90B5BC \n"

"loc_FF90B59C:\n"
"    MOV     R0, #1 \n"
"    MOV     R1, R0 \n"
"    MOV     R2, R0 \n"
"    BL      sub_FF9099A8 \n"
"    MOV     R0, #1 \n"
"    MOV     R1, R0 \n"
"    MOV     R2, R0 \n"
"    BL      sub_FF909AC0 \n"

"loc_FF90B5BC:\n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90968C \n"

"loc_FF90B5C4:\n"
"    LDR     R3, =0x38A90 \n"
"    MOV     R2, #0 \n"
"    LDR     R0, [R3] \n"
"    MOV     R1, R7 \n"
"    BL      sub_FF820F34 /*_ReceiveMessageQueue*/ \n"
"    LDR     R12, [SP] \n"
"    LDR     R2, [R12] \n"
"    CMP     R2, #0x19 \n"
"    BNE     loc_FF90B2E8 \n"
"    MOV     R0, R12 \n"
"    BL      sub_FF90968C \n"
"    LDR     R3, =0x38A8C \n"
"    MOV     R1, #1 \n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF82072C /*_SetEventFlag*/ \n"
"    BL      _ExitTask \n"
"    ADD     SP, SP, #0x14 \n"
"    LDMFD   SP!, {R4-R8,PC} \n"
);
}

/*************************************************************/
//** sub_FF90A110_my @ 0xFF90A110 - 0xFF90A1C4, length=46
void __attribute__((naked,noinline)) sub_FF90A110_my() {
asm volatile (
"    STMFD   SP!, {R4,R5,LR} \n"
"    LDR     R3, =0x38A8C \n"
"    MOV     R4, R0 \n"
"    MOV     R1, #0xE \n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF8208C8 /*_ClearEventFlag*/ \n"
"    MOV     R1, #0 \n"
"    LDRSH   R0, [R4, #4] \n"
"    BL      sub_FF909710 \n"
"    MOV     R5, R0 \n"
"    LDRSH   R0, [R4, #6] \n"
"    BL      sub_FF909840 \n"
"    LDRSH   R0, [R4, #8] \n"
"    BL      sub_FF9098DC \n"
"    LDR     R3, [R4] \n"
"    CMP     R3, #9 \n"
"    MOVEQ   R5, #0 \n"
"    CMP     R5, #1 \n"
"    LDR     R1, =0xFF9096BC \n"
"    MOV     R2, #2 \n"
"    BNE     loc_FF90A17C \n"
"    LDRSH   R0, [R4, #4] \n"
"    BL      sub_FFA94CA0 \n"
"    LDR     R2, =0x38AB8 \n"
"    MOV     R3, #0 \n"
"    STR     R3, [R2] \n"
"    B       loc_FF90A180 \n"

"loc_FF90A17C:\n"
"    BL      sub_FF909978 \n"

"loc_FF90A180:\n"
"    STRH    R0, [R4, #4] \n"
"    LDRSH   R0, [R4, #6] \n"
"    BL      sub_FF8BAD08_my \n"  // --> Patched. Old value = 0xFF8BAD08.
"    BL      sub_FF8BCCB4 \n"
"    MOV     R1, R0 \n"
"    LDRSH   R0, [R4, #8] \n"
"    BL      sub_FF8BCAD0 \n"
"    MOV     R1, #0 \n"
"    ADD     R0, R4, #8 \n"
"    BL      sub_FF8BCB94 \n"
"    CMP     R5, #1 \n"
"    MOV     R1, #2 \n"
"    MOV     R2, #0 \n"
"    LDMNEFD SP!, {R4,R5,PC} \n"
"    LDR     R3, =0x38A8C \n"
"    LDR     R0, [R3] \n"
"    LDMFD   SP!, {R4,R5,LR} \n"
"    B       sub_FF82071C /*_WaitForAllEventFlag*/ \n"
);
}

/*************************************************************/
//** sub_FF8BAD08_my @ 0xFF8BAD08 - 0xFF8BAD60, length=23
void __attribute__((naked,noinline)) sub_FF8BAD08_my() {
asm volatile (
"    STMFD   SP!, {R4,LR} \n"
"    LDR     R3, =0x3968 \n"
"    LDR     R2, [R3] \n"
"    MOV     R3, R0, LSL#16 \n"
"    CMP     R2, #1 \n"
"    MOV     R1, #0x110 \n"
"    LDR     R0, =0xFF8BA6A4 \n"
"    MOV     R4, R3, ASR#16 \n"
"    BEQ     loc_FF8BAD30 \n"
"    BL      _DebugAssert \n"

"loc_FF8BAD30:\n"
"    MOV     R1, #0x114 \n"
"    CMN     R4, #0xC00 \n"
"    LDR     R3, =0x2EE6E \n"
"    LDR     R0, =0xFF8BA6A4 \n"
"    ADD     R1, R1, #2 \n"
"    LDREQSH R4, [R3] \n"
"    LDRNE   R3, =0x2EE6E \n"
"    CMN     R4, #0xC00 \n"
"    STRH    R4, [R3] \n"
"    BNE     loc_FF8BAD5C \n"
"    BL      _DebugAssert \n"

"loc_FF8BAD5C:\n"
"    MOV     R0, R4 \n"
"    BL      apex2us \n"  // --> Patched. Old value = _apex2us.
"    LDR     PC, =0xFF8BAD64 \n"  // Continue in firmware
);
}
