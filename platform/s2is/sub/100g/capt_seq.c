/*
 * capt_seq.c - auto-generated by CHDK code_gen.
 */
#include "lolevel.h"
#include "platform.h"
#include "core.h"

#define NR_ON (1)
#define NR_OFF (0)

static long *nrflag = (long*)0x5754;

#include "../../../generic/capt_seq.c"


/*************************************************************/
//** capt_seq_task @ 0xFF96C77C - 0xFF96C96C, length=125
void __attribute__((naked,noinline)) capt_seq_task() {
asm volatile (
"    STMFD   SP!, {R4,LR} \n"
"    SUB     SP, SP, #4 \n"
"    MOV     R4, SP \n"
"    B       loc_FF96C93C \n"

"loc_FF96C78C:\n"
"    LDR     R0, [SP] \n"
"    LDR     R3, [R0] \n"
"    CMP     R3, #0x11 \n"
"    LDRLS   PC, [PC, R3, LSL#2] \n"
"    B       loc_FF96C924 \n"
"    .long   loc_FF96C7E8 \n"
"    .long   loc_FF96C7F8 \n"
"    .long   loc_FF96C80C \n"
"    .long   loc_FF96C81C \n"
"    .long   loc_FF96C82C \n"
"    .long   loc_FF96C83C \n"
"    .long   loc_FF96C850 \n"
"    .long   loc_FF96C860 \n"
"    .long   loc_FF96C874 \n"
"    .long   loc_FF96C884 \n"
"    .long   loc_FF96C894 \n"
"    .long   loc_FF96C8A4 \n"
"    .long   loc_FF96C8B4 \n"
"    .long   loc_FF96C8C8 \n"
"    .long   loc_FF96C8D8 \n"
"    .long   loc_FF96C8E8 \n"
"    .long   loc_FF96C8F8 \n"
"    .long   loc_FF96C90C \n"

"loc_FF96C7E8:\n"
"    BL      sub_FF96CFB0 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #8 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C7F8:\n"
"    BL      sub_FF96D734 \n"
"    BL      shooting_expo_param_override\n"   // +
"    BL      sub_FF96A6F0 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x10 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C80C:\n"
"    BL      sub_FF96BDC0_my \n"  // --> Patched. Old value = 0xFF96BDC0.
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #2 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C81C:\n"
"    BL      sub_FF96DD44 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #1 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C82C:\n"
"    BL      sub_FF96D7E4 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x20 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C83C:\n"
"    BL      sub_FF96D8DC \n"
"    BL      sub_FF96A6F0 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x40 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C850:\n"
"    BL      sub_FF96BFA4 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x80 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C860:\n"
"    BL      sub_FF96DA54 \n"
"    BL      sub_FF96A6F0 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x400 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C874:\n"
"    BL      sub_FF96D7E4 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x800 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C884:\n"
"    BL      sub_FF96E580 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x8000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C894:\n"
"    BL      sub_FF96E95C \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x10000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C8A4:\n"
"    BL      sub_FF96E878 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x20000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C8B4:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF96EA14 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x40000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C8C8:\n"
"    BL      sub_FF96ED20 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x80000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C8D8:\n"
"    BL      sub_FF96ED98 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x100000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C8E8:\n"
"    BL      sub_FF96EDE4 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x200000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C8F8:\n"
"    MOV     R0, #1 \n"
"    BL      sub_FF96EA14 \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x400000 \n"
"    B       loc_FF96C918 \n"

"loc_FF96C90C:\n"
"    BL      sub_FF96EE4C \n"
"    LDR     R3, =0x5D11C \n"
"    MOV     R1, #0x800000 \n"

"loc_FF96C918:\n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF82072C /*_SetEventFlag*/ \n"
"    B       loc_FF96C934 \n"

"loc_FF96C924:\n"
"    MOV     R1, #0x374 \n"
"    LDR     R0, =0xFF96BA70 /*'CaptSeq.c'*/ \n"
"    ADD     R1, R1, #2 \n"
"    BL      _DebugAssert \n"

"loc_FF96C934:\n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF96BAF0 \n"

"loc_FF96C93C:\n"
"    LDR     R3, =0x5D120 \n"
"    MOV     R1, R4 \n"
"    LDR     R0, [R3] \n"
"    MOV     R2, #0 \n"
"    BL      sub_FF820F34 /*_ReceiveMessageQueue*/ \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF96C78C \n"
"    LDR     R0, =0xFF96BA70 /*'CaptSeq.c'*/ \n"
"    MOV     R1, #0x2EC \n"
"    BL      _DebugAssert \n"
"    BL      _ExitTask \n"
"    ADD     SP, SP, #4 \n"
"    LDMFD   SP!, {R4,PC} \n"
);
}

/*************************************************************/
//** sub_FF96BDC0_my @ 0xFF96BDC0 - 0xFF96BE78, length=47
void __attribute__((naked,noinline)) sub_FF96BDC0_my() {
asm volatile (
"    STMFD   SP!, {R4-R6,LR} \n"
"    LDR     R5, [R0, #8] \n"
"    BL      sub_FF97ABAC \n"
"    CMP     R0, #0 \n"
"    LDR     R0, =0xFF96BD9C /*'StrbCtrl::ChargeIsNotCompleted.\r\n'*/ \n"
"    BNE     loc_FF96BDE0 \n"
"    BL      sub_FFAF1F48 \n"
"    BL      sub_FF97ABB8 \n"

"loc_FF96BDE0:\n"
"    BL      sub_FF969E20 \n"
"    ADD     R3, R5, R5, LSL#1 \n"
"    RSB     R3, R5, R3, LSL#3 \n"
"    MOV     R6, R3, LSL#2 \n"
"    ADD     R0, R6, R0 \n"
"    LDR     R3, [R0, #8] \n"
"    CMP     R3, #0 \n"
"    BEQ     loc_FF96BE04 \n"
"    BL      sub_FF9538FC \n"

"loc_FF96BE04:\n"
"    MOV     R0, R5 \n"
"    BL      sub_FF96DDE0 \n"
"    TST     R0, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R1, #1 \n"
"    BEQ     loc_FF96BE24 \n"
"    LDMFD   SP!, {R4-R6,LR} \n"
"    B       sub_FF96AB80 \n"

"loc_FF96BE24:\n"
"    BL      sub_FF969E20 \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF825F00 \n"
"    ADD     R4, R6, R4 \n"
"    STR     R0, [R4, #4] \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF96FC78 \n"
"    BL      sub_FF96E43C \n"
"    BL      sub_FF96E3A8 \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF96F334_my \n"  // --> Patched. Old value = 0xFF96F334.
"    BL      capt_seq_hook_raw_here\n"   // +
"    MOV     R2, R5 \n"
"    MOV     R1, #1 \n"
"    BL      sub_FF96AB80 \n"
"    BL      sub_FF96F5F8 \n"
"    BL      sub_FF969E20 \n"
"    ADD     R0, R6, R0 \n"
"    LDR     R3, [R0, #8] \n"
"    CMP     R3, #0 \n"
"    LDMEQFD SP!, {R4-R6,PC} \n"
"    LDMFD   SP!, {R4-R6,LR} \n"
"    B       sub_FF953938 \n"
);
}

/*************************************************************/
//** sub_FF96F334_my @ 0xFF96F334 - 0xFF96F378, length=18
void __attribute__((naked,noinline)) sub_FF96F334_my() {
asm volatile (
"    STMFD   SP!, {R4-R8,LR} \n"
"    LDR     R3, =0x574C \n"
"    SUB     SP, SP, #4 \n"
"    LDR     R2, [R3] \n"
"    LDR     R4, =0x5750 \n"
"    CMP     R2, #0 \n"
"    STR     R0, [R4] \n"
"    MOV     R8, #0 \n"
"    LDR     R6, =0xFF96F26C \n"
"    BNE     loc_FF96F368 \n"
"    LDR     R0, =0xFF96F328 /*'MainCapt.c'*/ \n"
"    MOV     R1, #0xDB \n"
"    BL      _DebugAssert \n"

"loc_FF96F368:\n"
"    LDR     R3, =0x5D184 \n"
"    MVN     R1, #0 \n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF8208C8 /*_ClearEventFlag*/ \n"
"    BL      sub_FF96F2A4 \n"
"    BL      wait_until_remote_button_is_released\n"
"    BL      capt_seq_hook_set_nr\n"
"    LDR     PC, =0xFF96F37C \n"  // Continue in firmware
);
}

/*************************************************************/
//** exp_drv_task @ 0xFF90B03C - 0xFF90B36C, length=205
void __attribute__((naked,noinline)) exp_drv_task() {
asm volatile (
"    STMFD   SP!, {R4-R8,LR} \n"
"    SUB     SP, SP, #0x14 \n"
"    MOV     R7, SP \n"
"    B       loc_FF90B328 \n"

"loc_FF90B04C:\n"
"    CMP     R2, #0x18 \n"
"    BNE     loc_FF90B064 \n"
"    LDR     R0, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"
"    B       loc_FF90B094 \n"

"loc_FF90B064:\n"
"    CMP     R2, #0x16 \n"
"    BNE     loc_FF90B074 \n"
"    BL      sub_FFA95490 \n"
"    B       loc_FF90B084 \n"

"loc_FF90B074:\n"
"    CMP     R2, #0x17 \n"
"    BNE     loc_FF90B0A0 \n"
"    BL      sub_FF8BADD4 \n"
"    BL      sub_FF8BCC74 \n"

"loc_FF90B084:\n"
"    LDR     R3, [SP] \n"
"    LDR     R0, [R3, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x30] \n"

"loc_FF90B094:\n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF9093F0 \n"
"    B       loc_FF90B328 \n"

"loc_FF90B0A0:\n"
"    CMP     R2, #0xC \n"
"    MOV     R8, #1 \n"
"    BNE     loc_FF90B110 \n"
"    LDR     R1, [R12, #0x24] \n"
"    ADD     R1, R1, R1, LSL#1 \n"
"    ADD     R1, R12, R1, LSL#1 \n"
"    ADD     R6, SP, #0xC \n"
"    SUB     R1, R1, #2 \n"
"    MOV     R2, #6 \n"
"    MOV     R0, R6 \n"
"    BL      _memcpy \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A664 \n"
"    LDR     R3, [SP] \n"
"    LDR     R1, [R3, #0x24] \n"
"    LDR     R2, [R3, #0x34] \n"
"    ADD     R0, R3, #4 \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x30] \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A7E8 \n"
"    LDR     R3, [SP] \n"
"    ADD     R0, R3, #4 \n"
"    LDR     R1, [R3, #0x24] \n"
"    LDR     R2, [R3, #0x3C] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x38] \n"
"    B       loc_FF90B2D8 \n"

"loc_FF90B110:\n"
"    SUB     R3, R2, #0xD \n"
"    CMP     R3, #1 \n"
"    BHI     loc_FF90B190 \n"
"    ADD     R6, SP, #0xC \n"
"    ADD     R5, SP, #4 \n"
"    MOV     R0, R12 \n"
"    MOV     R1, R6 \n"
"    MOV     R2, R5 \n"
"    BL      sub_FF90A864 \n"
"    MOV     R4, R0 \n"
"    CMP     R4, #3 \n"
"    CMPNE   R4, #1 \n"
"    BNE     loc_FF90B170 \n"
"    LDR     R12, [SP] \n"
"    MOV     R0, R5 \n"
"    LDR     R1, [R12, #0x24] \n"
"    MOV     R2, R4 \n"
"    LDR     R3, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"
"    MOV     R1, R4 \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90B01C \n"
"    B       loc_FF90B2D8 \n"

"loc_FF90B170:\n"
"    LDR     R12, [SP] \n"
"    MOV     R2, R4 \n"
"    ADD     R0, R12, #4 \n"
"    LDR     R1, [R12, #0x24] \n"
"    LDR     R3, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"
"    B       loc_FF90B2D8 \n"

"loc_FF90B190:\n"
"    CMP     R2, #0x14 \n"
"    BNE     loc_FF90B1E4 \n"
"    LDR     R1, [R12, #0x24] \n"
"    ADD     R1, R1, R1, LSL#1 \n"
"    ADD     R1, R12, R1, LSL#1 \n"
"    ADD     R6, SP, #0xC \n"
"    SUB     R1, R1, #2 \n"
"    MOV     R2, #6 \n"
"    MOV     R0, R6 \n"
"    BL      _memcpy \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A13C \n"
"    LDR     R3, [SP] \n"
"    ADD     R0, R3, #4 \n"
"    LDR     R1, [R3, #0x24] \n"
"    LDR     R2, [R3, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R3, #0x30] \n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF90A394 \n"
"    B       loc_FF90B2D8 \n"

"loc_FF90B1E4:\n"
"    ADD     R6, SP, #0xC \n"
"    ADD     R1, R12, #4 \n"
"    MOV     R0, R6 \n"
"    MOV     R2, #6 \n"
"    BL      _memcpy \n"
"    LDR     R12, [SP] \n"
"    LDR     R3, [R12] \n"
"    MOV     R0, R12 \n"
"    CMP     R3, #0x15 \n"
"    LDRLS   PC, [PC, R3, LSL#2] \n"
"    B       loc_FF90B2C4 \n"
"    .long   loc_FF90B268 \n"
"    .long   loc_FF90B270 \n"
"    .long   loc_FF90B278 \n"
"    .long   loc_FF90B278 \n"
"    .long   loc_FF90B268 \n"
"    .long   loc_FF90B270 \n"
"    .long   loc_FF90B278 \n"
"    .long   loc_FF90B278 \n"
"    .long   loc_FF90B290 \n"
"    .long   loc_FF90B290 \n"
"    .long   loc_FF90B2B4 \n"
"    .long   loc_FF90B2BC \n"
"    .long   loc_FF90B2C4 \n"
"    .long   loc_FF90B2C4 \n"
"    .long   loc_FF90B2C4 \n"
"    .long   loc_FF90B280 \n"
"    .long   loc_FF90B288 \n"
"    .long   loc_FF90B29C \n"
"    .long   loc_FF90B2A4 \n"
"    .long   loc_FF90B2A4 \n"
"    .long   loc_FF90B2C4 \n"
"    .long   loc_FF90B2AC \n"

"loc_FF90B268:\n"
"    BL      sub_FF9098AC \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B270:\n"
"    BL      sub_FF9099E8 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B278:\n"
"    BL      sub_FF909B18 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B280:\n"
"    BL      sub_FF909CEC \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B288:\n"
"    BL      sub_FF909DB0 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B290:\n"
"    BL      sub_FF909E74_my \n"  // --> Patched. Old value = 0xFF909E74.
"    MOV     R8, #0 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B29C:\n"
"    BL      sub_FF909F38 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B2A4:\n"
"    BL      sub_FF90A020 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B2AC:\n"
"    BL      sub_FF90A424 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B2B4:\n"
"    BL      sub_FF90A4F8 \n"
"    B       loc_FF90B2C0 \n"

"loc_FF90B2BC:\n"
"    BL      sub_FF90A5E4 \n"

"loc_FF90B2C0:\n"
"    LDR     R12, [SP] \n"

"loc_FF90B2C4:\n"
"    ADD     R0, R12, #4 \n"
"    LDR     R1, [R12, #0x24] \n"
"    LDR     R2, [R12, #0x34] \n"
"    MOV     LR, PC \n"
"    LDR     PC, [R12, #0x30] \n"

"loc_FF90B2D8:\n"
"    CMP     R8, #1 \n"
"    BNE     loc_FF90B300 \n"
"    LDR     R1, [SP] \n"
"    LDR     R3, [R1, #0x24] \n"
"    ADD     R3, R3, R3, LSL#1 \n"
"    ADD     R1, R1, R3, LSL#1 \n"
"    MOV     R0, R6 \n"
"    SUB     R1, R1, #2 \n"
"    BL      sub_FF909768 \n"
"    B       loc_FF90B320 \n"

"loc_FF90B300:\n"
"    MOV     R0, #1 \n"
"    MOV     R1, R0 \n"
"    MOV     R2, R0 \n"
"    BL      sub_FF90970C \n"
"    MOV     R0, #1 \n"
"    MOV     R1, R0 \n"
"    MOV     R2, R0 \n"
"    BL      sub_FF909824 \n"

"loc_FF90B320:\n"
"    LDR     R0, [SP] \n"
"    BL      sub_FF9093F0 \n"

"loc_FF90B328:\n"
"    LDR     R3, =0x38AB0 \n"
"    MOV     R2, #0 \n"
"    LDR     R0, [R3] \n"
"    MOV     R1, R7 \n"
"    BL      sub_FF820F34 /*_ReceiveMessageQueue*/ \n"
"    LDR     R12, [SP] \n"
"    LDR     R2, [R12] \n"
"    CMP     R2, #0x19 \n"
"    BNE     loc_FF90B04C \n"
"    MOV     R0, R12 \n"
"    BL      sub_FF9093F0 \n"
"    LDR     R3, =0x38AAC \n"
"    MOV     R1, #1 \n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF82072C /*_SetEventFlag*/ \n"
"    BL      _ExitTask \n"
"    ADD     SP, SP, #0x14 \n"
"    LDMFD   SP!, {R4-R8,PC} \n"
);
}

/*************************************************************/
//** sub_FF909E74_my @ 0xFF909E74 - 0xFF909F28, length=46
void __attribute__((naked,noinline)) sub_FF909E74_my() {
asm volatile (
"    STMFD   SP!, {R4,R5,LR} \n"
"    LDR     R3, =0x38AAC \n"
"    MOV     R4, R0 \n"
"    MOV     R1, #0xE \n"
"    LDR     R0, [R3] \n"
"    BL      sub_FF8208C8 /*_ClearEventFlag*/ \n"
"    MOV     R1, #0 \n"
"    LDRSH   R0, [R4, #4] \n"
"    BL      sub_FF909474 \n"
"    MOV     R5, R0 \n"
"    LDRSH   R0, [R4, #6] \n"
"    BL      sub_FF9095A4 \n"
"    LDRSH   R0, [R4, #8] \n"
"    BL      sub_FF909640 \n"
"    LDR     R3, [R4] \n"
"    CMP     R3, #9 \n"
"    MOVEQ   R5, #0 \n"
"    CMP     R5, #1 \n"
"    LDR     R1, =0xFF909420 \n"
"    MOV     R2, #2 \n"
"    BNE     loc_FF909EE0 \n"
"    LDRSH   R0, [R4, #4] \n"
"    BL      sub_FFA94AAC \n"
"    LDR     R2, =0x38AD8 \n"
"    MOV     R3, #0 \n"
"    STR     R3, [R2] \n"
"    B       loc_FF909EE4 \n"

"loc_FF909EE0:\n"
"    BL      sub_FF9096DC \n"

"loc_FF909EE4:\n"
"    STRH    R0, [R4, #4] \n"
"    LDRSH   R0, [R4, #6] \n"
"    BL      sub_FF8BAA6C_my \n"  // --> Patched. Old value = 0xFF8BAA6C.
"    BL      sub_FF8BCA18 \n"
"    MOV     R1, R0 \n"
"    LDRSH   R0, [R4, #8] \n"
"    BL      sub_FF8BC834 \n"
"    MOV     R1, #0 \n"
"    ADD     R0, R4, #8 \n"
"    BL      sub_FF8BC8F8 \n"
"    CMP     R5, #1 \n"
"    MOV     R1, #2 \n"
"    MOV     R2, #0 \n"
"    LDMNEFD SP!, {R4,R5,PC} \n"
"    LDR     R3, =0x38AAC \n"
"    LDR     R0, [R3] \n"
"    LDMFD   SP!, {R4,R5,LR} \n"
"    B       sub_FF82071C /*_WaitForAllEventFlag*/ \n"
);
}

/*************************************************************/
//** sub_FF8BAA6C_my @ 0xFF8BAA6C - 0xFF8BAAC4, length=23
void __attribute__((naked,noinline)) sub_FF8BAA6C_my() {
asm volatile (
"    STMFD   SP!, {R4,LR} \n"
"    LDR     R3, =0x3998 \n"
"    LDR     R2, [R3] \n"
"    MOV     R3, R0, LSL#16 \n"
"    CMP     R2, #1 \n"
"    MOV     R1, #0x110 \n"
"    LDR     R0, =0xFF8BA408 /*'Shutter.c'*/ \n"
"    MOV     R4, R3, ASR#16 \n"
"    BEQ     loc_FF8BAA94 \n"
"    BL      _DebugAssert \n"

"loc_FF8BAA94:\n"
"    MOV     R1, #0x114 \n"
"    CMN     R4, #0xC00 \n"
"    LDR     R3, =0x2EE8E \n"
"    LDR     R0, =0xFF8BA408 /*'Shutter.c'*/ \n"
"    ADD     R1, R1, #2 \n"
"    LDREQSH R4, [R3] \n"
"    LDRNE   R3, =0x2EE8E \n"
"    CMN     R4, #0xC00 \n"
"    STRH    R4, [R3] \n"
"    BNE     loc_FF8BAAC0 \n"
"    BL      _DebugAssert \n"

"loc_FF8BAAC0:\n"
"    MOV     R0, R4 \n"
"    BL      apex2us \n"  // --> Patched. Old value = _apex2us.
"    LDR     PC, =0xFF8BAAC8 \n"  // Continue in firmware
);
}
